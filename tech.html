<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NordiqFlow - Tech & Ekonomiska Modeller</title>
    <meta name="description" content="Teknisk f√∂rklaring av NordiqFlow: tre-lagers matchningsalgoritm, ekonomiska teorier, och ML-arkitektur.">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
        }

        /* Navigation */
        nav {
            background: #1a1a2e;
            padding: 15px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-logo {
            color: white;
            font-size: 1.5em;
            font-weight: 700;
            text-decoration: none;
        }

        .nav-logo span {
            color: #667eea;
        }

        .nav-links {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: flex-end;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            padding: 10px 18px;
            border-radius: 6px;
            font-size: 0.95em;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .nav-links a:hover {
            background: #667eea;
        }

        .nav-links a.active {
            background: #667eea;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Hero */
        .hero {
            background: linear-gradient(135deg, #1a1a2e 0%, #2c3e50 100%);
            color: white;
            padding: 80px 20px;
            text-align: center;
        }

        .hero h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        .hero p {
            font-size: 1.2em;
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto;
        }

        /* Section Styling */
        .section {
            padding: 60px 20px;
        }

        .section.white {
            background: white;
        }

        .section.gray {
            background: #f8f9fa;
        }

        .section.dark {
            background: #2c3e50;
            color: white;
        }

        .section-title {
            font-size: 2em;
            margin-bottom: 40px;
            color: #2c3e50;
            text-align: center;
        }

        .section.dark .section-title {
            color: white;
        }

        /* Algorithm Flow */
        .algorithm-flow {
            display: flex;
            flex-direction: column;
            gap: 30px;
            max-width: 800px;
            margin: 0 auto;
        }

        .layer-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .layer-header {
            padding: 20px 30px;
            color: white;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .layer-header.l1 { background: #3498db; }
        .layer-header.l2 { background: #9b59b6; }
        .layer-header.l3 { background: #27ae60; }

        .layer-number {
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
        }

        .layer-header h3 {
            font-size: 1.3em;
        }

        .layer-content {
            padding: 25px 30px;
        }

        .layer-content p {
            color: #555;
            margin-bottom: 15px;
        }

        .layer-content ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .layer-content li {
            color: #666;
            margin-bottom: 8px;
        }

        /* Code Block */
        .code-block {
            background: #1a1a2e;
            color: #a8e6cf;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.9em;
            overflow-x: auto;
            margin: 20px 0;
        }

        .code-block .comment {
            color: #6c757d;
        }

        .code-block .keyword {
            color: #ff6b6b;
        }

        .code-block .string {
            color: #ffd93d;
        }

        .code-block .number {
            color: #4ecdc4;
        }

        /* Theory Cards */
        .theory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .theory-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border-top: 4px solid #667eea;
        }

        .theory-card h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .theory-card .year {
            color: #667eea;
            font-size: 0.9em;
            margin-bottom: 15px;
        }

        .theory-card p {
            color: #555;
            margin-bottom: 15px;
            font-size: 0.95em;
        }

        .theory-card .application {
            background: #f0f4ff;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .theory-card .application h4 {
            color: #667eea;
            font-size: 0.95em;
            margin-bottom: 8px;
        }

        .theory-card .application p {
            margin: 0;
            font-size: 0.9em;
        }

        /* Data Architecture */
        .data-architecture {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            margin-bottom: 30px;
        }

        .data-architecture h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.3em;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th {
            background: #667eea;
            color: white;
            padding: 12px 15px;
            text-align: left;
        }

        .data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e0e0e0;
        }

        .data-table tr:last-child td {
            border-bottom: none;
        }

        .data-table code {
            background: #f0f4ff;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.9em;
        }

        /* Scoring Formula */
        .formula-box {
            background: #1a1a2e;
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin: 30px 0;
            text-align: center;
        }

        .formula-box h3 {
            margin-bottom: 20px;
            color: #667eea;
        }

        .formula {
            font-family: 'Georgia', serif;
            font-size: 1.3em;
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
        }

        .formula-legend {
            text-align: left;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .legend-item .weight {
            background: #667eea;
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-weight: bold;
            min-width: 50px;
            text-align: center;
        }

        .legend-item .desc {
            color: #ccc;
            font-size: 0.95em;
        }

        /* Visual Diagram */
        .diagram-section {
            text-align: center;
            padding: 40px;
            background: white;
            border-radius: 12px;
            margin: 30px 0;
        }

        .diagram-section h3 {
            color: #2c3e50;
            margin-bottom: 30px;
        }

        .flow-diagram {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .flow-box {
            background: #667eea;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            font-weight: 500;
        }

        .flow-arrow {
            font-size: 1.5em;
            color: #667eea;
        }

        /* Footer */
        footer {
            background: #1a1a2e;
            color: white;
            padding: 40px 20px;
            text-align: center;
        }

        footer a {
            color: #667eea;
            text-decoration: none;
        }

        footer p {
            margin: 10px 0;
        }

        /* Interactive Graph */
        .graph-container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            margin: 30px 0;
        }

        .graph-container h3 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .graph-container .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 20px;
            font-size: 0.95em;
        }

        #career-graph {
            width: 100%;
            height: 500px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            background: #fafbfc;
        }

        .graph-legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .legend-item-graph {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9em;
            color: #555;
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 50%;
        }

        .legend-color.high { background: #27ae60; }
        .legend-color.medium { background: #f39c12; }
        .legend-color.low { background: #e74c3c; }
        .legend-color.current { background: #667eea; border: 3px solid #1a1a2e; }

        .graph-instructions {
            text-align: center;
            color: #888;
            font-size: 0.85em;
            margin-top: 15px;
            font-style: italic;
        }

        /* Simplified Explanation */
        .simple-section {
            background: linear-gradient(135deg, #f0fff4 0%, #e8f8f0 100%);
            border: 2px solid #27ae60;
            border-radius: 12px;
            padding: 40px;
            margin: 40px 0;
        }

        .simple-section h2 {
            color: #1e8449;
            margin-bottom: 25px;
            text-align: center;
        }

        .simple-section .emoji-header {
            font-size: 2em;
            text-align: center;
            margin-bottom: 15px;
        }

        .simple-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .simple-content p {
            color: #444;
            font-size: 1.1em;
            margin-bottom: 20px;
            line-height: 1.8;
        }

        .simple-analogy {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin: 25px 0;
            border-left: 4px solid #27ae60;
        }

        .simple-analogy h4 {
            color: #1e8449;
            margin-bottom: 10px;
        }

        .simple-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .simple-step {
            background: white;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }

        .simple-step .number {
            width: 40px;
            height: 40px;
            background: #27ae60;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-weight: bold;
        }

        .simple-step h5 {
            color: #2c3e50;
            margin-bottom: 8px;
        }

        .simple-step p {
            color: #666;
            font-size: 0.9em;
            margin: 0;
        }

        /* Mobile */
        @media (max-width: 768px) {
            nav {
                flex-direction: column;
                padding: 15px 20px;
            }

            .nav-links {
                margin-top: 15px;
                justify-content: center;
            }

            .hero h1 {
                font-size: 1.8em;
            }

            .section-title {
                font-size: 1.6em;
            }

            .flow-diagram {
                flex-direction: column;
            }

            .flow-arrow {
                transform: rotate(90deg);
            }

            .formula {
                font-size: 1em;
            }
        }
    </style>
</head>
<body>
    <nav>
        <a href="index.html" class="nav-logo">Nordiq<span>Flow</span></a>
        <div class="nav-links">
            <a href="index.html">TalentFlow</a>
            <a href="investors.html">For Investors</a>
            <a href="af-data.html">AF Data</a>
            <a href="af-issues.html">AF:s Problem</a>
            <a href="tech.html" class="active">Tech & Modeller</a>
            <a href="cityiq.html">CityIQ</a>
        </div>
    </nav>

    <section class="hero">
        <div class="container">
            <h1>Tech & Ekonomiska Modeller</h1>
            <p>Hur NordiqFlow fungerar under huven: algoritmer, dataarkitektur, och den ekonomiska teorin bakom.</p>
        </div>
    </section>

    <!-- Algorithm Section -->
    <section class="section white">
        <div class="container">
            <h2 class="section-title">Tre-Lagers Matchningsalgoritm</h2>

            <div class="diagram-section">
                <h3>Datafl√∂de</h3>
                <div class="flow-diagram">
                    <div class="flow-box">CV / Profil</div>
                    <div class="flow-arrow">‚Üí</div>
                    <div class="flow-box">NLP Extraktion</div>
                    <div class="flow-arrow">‚Üí</div>
                    <div class="flow-box">Concept IDs</div>
                    <div class="flow-arrow">‚Üí</div>
                    <div class="flow-box">Graf-Traversering</div>
                    <div class="flow-arrow">‚Üí</div>
                    <div class="flow-box">Rankade Resultat</div>
                </div>
            </div>

            <div class="algorithm-flow">
                <!-- Layer 1 -->
                <div class="layer-card">
                    <div class="layer-header l1">
                        <div class="layer-number">1</div>
                        <h3>Semantisk Matchning</h3>
                    </div>
                    <div class="layer-content">
                        <p>
                            Extraherar kompetenser fr√•n ostrukturerad text (CV:er, jobbeskrivningar)
                            och mappar dem till Arbetsf√∂rmedlingens taxonomi-ID:n.
                        </p>
                        <ul>
                            <li>Anv√§nder AF:s JobAd Enrichments API f√∂r NLP-extraktion</li>
                            <li>Matchar p√• <code>concept_id</code>, inte textstr√§ngar</li>
                            <li>"Agile Coach" och "Scrum Master" ‚Üí samma concept_id</li>
                        </ul>
                        <div class="code-block">
<span class="comment"># Extrahera kompetenser fr√•n CV-text</span>
response = enrichments_api.extract(text=cv_text)
skills = [s[<span class="string">'concept_id'</span>] <span class="keyword">for</span> s <span class="keyword">in</span> response[<span class="string">'skills'</span>]]
<span class="comment"># skills = ['KDZ_123', 'ABC_456', ...]  # Taxonomi-IDs</span>
                        </div>
                    </div>
                </div>

                <!-- Layer 2 -->
                <div class="layer-card">
                    <div class="layer-header l2">
                        <div class="layer-number">2</div>
                        <h3>Graf-Traversering</h3>
                    </div>
                    <div class="layer-content">
                        <p>
                            Traverserar Arbetsf√∂rmedlingens substitutability-graf f√∂r att hitta
                            karri√§r√∂verg√•ngar. BFS-algoritm med viktade kanter.
                        </p>
                        <ul>
                            <li>51,000+ f√∂rber√§knade yrkes-till-yrkes-relationer</li>
                            <li>Substitutability-niv√•er: H√∂g (75), Medium (50), L√•g (25)</li>
                            <li>Expanderar kandidatens skills hierarkiskt (Python ‚Üí Programmering)</li>
                        </ul>
                        <div class="code-block">
<span class="comment"># Hitta substitutability f√∂r ett yrke</span>
transitions = substitutability_graph.get_transitions(
    occupation_id=<span class="string">'butikschef_123'</span>,
    min_level=<span class="number">50</span>  <span class="comment"># Minst medium substitutability</span>
)
<span class="comment"># ‚Üí [{'target': 'verksamhetsledare_456', 'level': 75}, ...]</span>
                        </div>
                    </div>
                </div>

                <!-- Layer 3 -->
                <div class="layer-card">
                    <div class="layer-header l3">
                        <div class="layer-number">3</div>
                        <h3>Prediktiv Scoring</h3>
                    </div>
                    <div class="layer-content">
                        <p>
                            Kombinerar matchningsdata med framtidsprognoser och l√∂nestatistik
                            f√∂r att ranka karri√§rv√§gar.
                        </p>
                        <ul>
                            <li>Integrerar Yrkesbarometerns 5-√•rs efterfr√•geprognos</li>
                            <li>Ber√§knar l√∂nedelta mellan nuvarande och m√•lyrke</li>
                            <li>Viktad composite score f√∂r slutrankning</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Scoring Formula -->
            <div class="formula-box">
                <h3>Scoring-Formel</h3>
                <div class="formula">
                    Score = 0.30√óS + 0.30√óM + 0.20√óD + 0.10√óK + 0.10√óL
                </div>
                <div class="formula-legend">
                    <div class="legend-item">
                        <span class="weight">30%</span>
                        <span class="desc">S = Substitutability (AF:s data)</span>
                    </div>
                    <div class="legend-item">
                        <span class="weight">30%</span>
                        <span class="desc">M = Skill Match %</span>
                    </div>
                    <div class="legend-item">
                        <span class="weight">20%</span>
                        <span class="desc">D = Efterfr√•geprognos (Yrkesbarometer)</span>
                    </div>
                    <div class="legend-item">
                        <span class="weight">10%</span>
                        <span class="desc">K = Nuvarande marknadssituation</span>
                    </div>
                    <div class="legend-item">
                        <span class="weight">10%</span>
                        <span class="desc">L = L√∂nedelta (incitament)</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Data Architecture -->
    <section class="section gray">
        <div class="container">
            <h2 class="section-title">Dataarkitektur</h2>

            <div class="data-architecture">
                <h3>Arbetsf√∂rmedlingens API:er vi anv√§nder</h3>
                <table class="data-table">
                    <tr>
                        <th>API</th>
                        <th>Data</th>
                        <th>Anv√§ndning</th>
                    </tr>
                    <tr>
                        <td><strong>Taxonomy API</strong></td>
                        <td>10,000 yrken, 8,000 skills</td>
                        <td>Semantisk matchning, hierarki-expansion</td>
                    </tr>
                    <tr>
                        <td><strong>Substitutability</strong></td>
                        <td>51,000+ √∂verg√•ngar</td>
                        <td>Karri√§rv√§gsrekommendationer</td>
                    </tr>
                    <tr>
                        <td><strong>JobSearch API</strong></td>
                        <td>Real-time jobblistningar</td>
                        <td>Marknadssituation, efterfr√•gan</td>
                    </tr>
                    <tr>
                        <td><strong>Enrichments API</strong></td>
                        <td>NLP-extraktion</td>
                        <td>CV-parsing, skill-extraktion</td>
                    </tr>
                    <tr>
                        <td><strong>Yrkesbarometer</strong></td>
                        <td>5-√•rs prognoser</td>
                        <td>Efterfr√•geprediktion</td>
                    </tr>
                    <tr>
                        <td><strong>Historical Ads</strong></td>
                        <td>10+ √•rs jobbdata</td>
                        <td>Trendanalys, ML-tr√§ning</td>
                    </tr>
                </table>
            </div>

            <div class="data-architecture">
                <h3>Nyckel-Datasets</h3>
                <table class="data-table">
                    <tr>
                        <th>Fil</th>
                        <th>Storlek</th>
                        <th>Inneh√•ll</th>
                    </tr>
                    <tr>
                        <td><code>substitutability-relations.json</code></td>
                        <td>2.3 MB</td>
                        <td>Karri√§r√∂verg√•ngar med substitutability-niv√•</td>
                    </tr>
                    <tr>
                        <td><code>concepts-and-relations.json</code></td>
                        <td>34 MB</td>
                        <td>Master-graf med alla relationer</td>
                    </tr>
                    <tr>
                        <td><code>skills.json</code></td>
                        <td>543 KB</td>
                        <td>8,000 "skill atoms" med taxonomi</td>
                    </tr>
                    <tr>
                        <td><code>ssyk-level-4.json</code></td>
                        <td>150 KB</td>
                        <td>430 svenska yrken (SSYK-4)</td>
                    </tr>
                </table>
            </div>
        </div>
    </section>

    <!-- Economic Theory -->
    <section class="section white">
        <div class="container">
            <h2 class="section-title">Ekonomisk Teori</h2>
            <p style="text-align: center; color: #666; margin-bottom: 40px; max-width: 700px; margin-left: auto; margin-right: auto;">
                NordiqFlow bygger p√• etablerad arbetsmarknadsteori, inklusive Nobel Prize-vinnande forskning.
            </p>

            <div class="theory-grid">
                <div class="theory-card">
                    <h3>Search & Matching Theory</h3>
                    <div class="year">DMP-modellen | Nobel Prize 2010</div>
                    <p>
                        F√∂rklarar varf√∂r arbetsl√∂shet och lediga jobb existerar samtidigt.
                        Matchningsfunktionen M = m(U, V) beskriver effektiviteten i att
                        koppla ihop arbetss√∂kande (U) med vakanser (V).
                    </p>
                    <div class="application">
                        <h4>NordiqFlow-till√§mpning</h4>
                        <p>
                            Vi f√∂rb√§ttrar m() genom att reducera informationsasymmetri.
                            Semantisk matchning minskar s√∂kfriktioner.
                        </p>
                    </div>
                </div>

                <div class="theory-card">
                    <h3>Human Capital Theory</h3>
                    <div class="year">Gary Becker | 1964</div>
                    <p>
                        Skiljer p√• generellt humankapital (v√§rdefullt f√∂r m√•nga arbetsgivare)
                        och specifikt (v√§rdefullt f√∂r en). Jobbtitlar betonar specifikt kapital.
                    </p>
                    <div class="application">
                        <h4>NordiqFlow-till√§mpning</h4>
                        <p>
                            Vi extraherar "skill atoms" f√∂r att avsl√∂ja transfererbart
                            generellt kapital. H = H_general + H_specific
                        </p>
                    </div>
                </div>

                <div class="theory-card">
                    <h3>Signaling Theory</h3>
                    <div class="year">Michael Spence | Nobel 1973</div>
                    <p>
                        Jobbtitlar √§r "brusiga signaler" av produktivitet. "Marketing Manager"
                        kan betyda SEO-specialist eller fullstack beroende p√• f√∂retag.
                    </p>
                    <div class="application">
                        <h4>NordiqFlow-till√§mpning</h4>
                        <p>
                            Ers√§tt brusig jobbtitel med preciserad skill-profil.
                            I(produktivitet; skills) > I(produktivitet; titel)
                        </p>
                    </div>
                </div>

                <div class="theory-card">
                    <h3>Granularity Gap</h3>
                    <div class="year">NordiqFlow Insight</div>
                    <p>
                        Arbetss√∂kande beskriver skills specifikt ("Google Ads", "Python pandas").
                        Jobbposter beskriver generellt ("Digital marknadsf√∂ring", "Dataanalys").
                    </p>
                    <div class="application">
                        <h4>NordiqFlow-till√§mpning</h4>
                        <p>
                            Hierarkisk taxonomi-traversering bryggar granularitetsniv√•er
                            automatiskt.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Interactive Graph Section -->
    <section class="section gray">
        <div class="container">
            <h2 class="section-title">Interaktiv Karri√§rgraf</h2>
            <p style="text-align: center; color: #666; margin-bottom: 30px; max-width: 700px; margin-left: auto; margin-right: auto;">
                Klicka och dra i noderna f√∂r att utforska hur olika yrken √§r kopplade till varandra.
                Varje linje representerar en m√∂jlig karri√§r√∂verg√•ng baserat p√• kompetens√∂verlappar.
            </p>

            <div class="graph-container">
                <h3>Karri√§r√∂verg√•ngar: Butikschef</h3>
                <p class="subtitle">Exempel p√• hur en butikschef kan √∂verg√• till n√§rliggande yrken</p>
                <div id="career-graph"></div>
                <div class="graph-legend">
                    <div class="legend-item-graph">
                        <div class="legend-color current"></div>
                        <span>Ditt nuvarande yrke</span>
                    </div>
                    <div class="legend-item-graph">
                        <div class="legend-color high"></div>
                        <span>H√∂g matchning (75%+)</span>
                    </div>
                    <div class="legend-item-graph">
                        <div class="legend-color medium"></div>
                        <span>Medium matchning (50-74%)</span>
                    </div>
                    <div class="legend-item-graph">
                        <div class="legend-color low"></div>
                        <span>L√•g matchning (25-49%)</span>
                    </div>
                </div>
                <p class="graph-instructions">
                    üí° Dra i noderna f√∂r att utforska grafen. Ju tjockare linje, desto starkare koppling.
                </p>
            </div>
        </div>
    </section>

    <!-- How Data Flows -->
    <section class="section white">
        <div class="container">
            <h2 class="section-title">S√• fl√∂dar data genom systemet</h2>

            <div class="data-architecture">
                <h3>Steg 1: Datainsamling</h3>
                <p style="color: #555; margin-bottom: 15px;">
                    Varje natt h√§mtar vi f√§rska data fr√•n Arbetsf√∂rmedlingens √∂ppna API:er.
                    Detta inkluderar nya jobbannonser, uppdaterade prognoser, och taxonomi-√§ndringar.
                </p>
                <div class="code-block">
<span class="comment"># Nattlig datah√§mtning (pseudo-kod)</span>
<span class="keyword">for</span> api <span class="keyword">in</span> [taxonomy, jobsearch, forecasts]:
    data = api.fetch_updates(since=yesterday)
    database.upsert(data)
    log.info(f<span class="string">"Updated {len(data)} records from {api.name}"</span>)
                </div>
            </div>

            <div class="data-architecture">
                <h3>Steg 2: Graf-byggning</h3>
                <p style="color: #555; margin-bottom: 15px;">
                    Vi bygger en kunskapsgraf d√§r yrken √§r noder och kompetensrelationer √§r kanter.
                    Denna graf m√∂jligg√∂r snabba traverseringar f√∂r karri√§rrekommendationer.
                </p>
                <div class="code-block">
<span class="comment"># Grafstruktur (Neo4j Cypher)</span>
(butikschef:Occupation {id: <span class="string">'SSYK_5221'</span>})
    -[:CAN_TRANSITION {strength: <span class="number">85</span>}]->
(verksamhetsledare:Occupation {id: <span class="string">'SSYK_1312'</span>})

<span class="comment"># Traversera f√∂r att hitta karri√§rv√§gar</span>
MATCH path = (start)-[:CAN_TRANSITION*<span class="number">1..3</span>]->(target)
WHERE start.id = <span class="string">'current_occupation'</span>
RETURN path ORDER BY relationship_strength DESC
                </div>
            </div>

            <div class="data-architecture">
                <h3>Steg 3: Realtids-scoring</h3>
                <p style="color: #555; margin-bottom: 15px;">
                    N√§r en anv√§ndare fr√•gar om karri√§rv√§gar, kombinerar vi graf-traversering
                    med realtidsdata om arbetsmarknad och l√∂ner f√∂r att ranka resultaten.
                </p>
                <div class="code-block">
<span class="comment"># Realtids-scoring</span>
<span class="keyword">def</span> score_career_path(current, target):
    base_score = graph.get_substitutability(current, target)
    demand_multiplier = forecasts.get_demand(target)
    salary_delta = salaries.get_delta(current, target)

    <span class="keyword">return</span> (
        <span class="number">0.30</span> * base_score +
        <span class="number">0.30</span> * skill_match +
        <span class="number">0.20</span> * demand_multiplier +
        <span class="number">0.10</span> * market_situation +
        <span class="number">0.10</span> * normalize(salary_delta)
    )
                </div>
            </div>
        </div>
    </section>

    <!-- ML & AI Section -->
    <section class="section gray">
        <div class="container">
            <h2 class="section-title">Maskininl√§rning & AI</h2>

            <div class="theory-grid">
                <div class="theory-card">
                    <h3>NLP f√∂r CV-parsing</h3>
                    <div class="year">JobAd Enrichments API</div>
                    <p>
                        Arbetsf√∂rmedlingen har tr√§nat en NLP-modell p√• miljontals svenska
                        jobbtexter. Vi anv√§nder deras API f√∂r att extrahera kompetenser
                        fr√•n ostrukturerad text.
                    </p>
                    <div class="application">
                        <h4>Exempel</h4>
                        <p>
                            "Jag har jobbat med Google Ads i 3 √•r" ‚Üí
                            Extraherar: <code>digital_marketing</code>, <code>google_ads</code>, <code>ppc</code>
                        </p>
                    </div>
                </div>

                <div class="theory-card">
                    <h3>Graf-baserad rekommendation</h3>
                    <div class="year">Graph Neural Networks</div>
                    <p>
                        Karri√§r√∂verg√•ngar modelleras som en graf d√§r vi kan anv√§nda
                        algoritmer som PageRank och Node2Vec f√∂r att hitta dolda samband.
                    </p>
                    <div class="application">
                        <h4>Teknisk approach</h4>
                        <p>
                            BFS-traversering med viktade kanter. Substitutability-v√§rden
                            fungerar som kantvikter f√∂r kortaste-v√§g-ber√§kningar.
                        </p>
                    </div>
                </div>

                <div class="theory-card">
                    <h3>Efterfr√•geprediktion</h3>
                    <div class="year">Time Series Forecasting</div>
                    <p>
                        Med 10+ √•rs historisk jobbdata kan vi tr√§na modeller som
                        predicerar framtida efterfr√•gan per yrke och region.
                    </p>
                    <div class="application">
                        <h4>Datak√§lla</h4>
                        <p>
                            Yrkesbarometern + Historical Ads API ger tillr√§ckligt med
                            tr√§ningsdata f√∂r ARIMA/Prophet-modeller.
                        </p>
                    </div>
                </div>

                <div class="theory-card">
                    <h3>Skill Gap Analysis</h3>
                    <div class="year">Set Operations + Ranking</div>
                    <p>
                        Ber√§knar vilka kompetenser som saknas f√∂r ett m√•lyrke och
                        rankar dem efter hur m√•nga jobb de "l√•ser upp".
                    </p>
                    <div class="application">
                        <h4>Formel</h4>
                        <p>
                            Gap = Required_skills - User_skills<br>
                            Importance(skill) = Count(jobs_unlocked_by_skill)
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tech Stack -->
    <section class="section dark">
        <div class="container">
            <h2 class="section-title">Planerad Tech Stack</h2>
            <div class="theory-grid">
                <div class="theory-card" style="background: #2c3e50; border-top-color: #3498db;">
                    <h3 style="color: white;">Backend</h3>
                    <p style="color: #ccc;">
                        <strong>Neo4j</strong> - Grafddatabas f√∂r taxonomi och relationer<br>
                        <strong>FastAPI</strong> - Python API-layer<br>
                        <strong>Pinecone/Weaviate</strong> - Vektorlagring f√∂r semantisk s√∂kning
                    </p>
                </div>
                <div class="theory-card" style="background: #2c3e50; border-top-color: #27ae60;">
                    <h3 style="color: white;">Frontend</h3>
                    <p style="color: #ccc;">
                        <strong>Next.js</strong> - React-ramverk<br>
                        <strong>D3.js</strong> - Interaktiva visualiseringar<br>
                        <strong>Vercel</strong> - Deployment
                    </p>
                </div>
                <div class="theory-card" style="background: #2c3e50; border-top-color: #9b59b6;">
                    <h3 style="color: white;">Data Pipeline</h3>
                    <p style="color: #ccc;">
                        <strong>AF Open APIs</strong> - Datak√§lla<br>
                        <strong>ClickHouse</strong> - Time-series f√∂r historik<br>
                        <strong>Apache Airflow</strong> - Orkestrering
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Simplified Explanation -->
    <section class="section white">
        <div class="container">
            <div class="simple-section">
                <div class="emoji-header">üß†üí°</div>
                <h2>F√∂renklad F√∂rklaring</h2>
                <p style="text-align: center; color: #666; margin-bottom: 30px;">
                    Inte s√• bra p√• matte eller teknik? Ingen fara! H√§r f√∂rklarar vi hur NordiqFlow fungerar
                    med enkla ord och vardagliga exempel.
                </p>

                <div class="simple-content">
                    <div class="simple-analogy">
                        <h4>üó∫Ô∏è T√§nk dig en karta √∂ver alla jobb</h4>
                        <p style="margin: 0; color: #555;">
                            F√∂rest√§ll dig att alla yrken i Sverige √§r st√§der p√• en karta. Mellan st√§derna
                            g√•r det v√§gar ‚Äì vissa √§r motorv√§gar (l√§tt att byta), andra √§r grusv√§gar (sv√•rare).
                            <strong>NordiqFlow visar dig vilka v√§gar som finns</strong> och vilken som √§r
                            snabbast f√∂r just dig.
                        </p>
                    </div>

                    <p>
                        <strong>Problemet idag:</strong> N√§r du s√∂ker jobb p√• Platsbanken √§r det som att
                        s√∂ka p√• Google Maps men bara f√• se st√§der som heter exakt det du skrev. Skriver du
                        "butikschef" ser du bara "butikschef" ‚Äì inte att du faktiskt kan ta en genv√§g till
                        "verksamhetsledare" eller "projektledare" som ligger precis bredvid.
                    </p>

                    <div class="simple-steps">
                        <div class="simple-step">
                            <div class="number">1</div>
                            <h5>Du ber√§ttar vad du kan</h5>
                            <p>Ladda upp ditt CV eller ber√§tta om din erfarenhet</p>
                        </div>
                        <div class="simple-step">
                            <div class="number">2</div>
                            <h5>Vi hittar dina "byggstenar"</h5>
                            <p>AI plockar ut dina kompetenser ‚Äì ledarskap, kundservice, budget, etc.</p>
                        </div>
                        <div class="simple-step">
                            <div class="number">3</div>
                            <h5>Vi j√§mf√∂r med alla jobb</h5>
                            <p>Vilka jobb kr√§ver samma byggstenar som du redan har?</p>
                        </div>
                        <div class="simple-step">
                            <div class="number">4</div>
                            <h5>Du f√•r en rankning</h5>
                            <p>"85% match! Du saknar bara 2 saker f√∂r detta jobb."</p>
                        </div>
                    </div>

                    <div class="simple-analogy">
                        <h4>üß© LEGO-analogin</h4>
                        <p style="margin: 0; color: #555;">
                            T√§nk p√• kompetenser som LEGO-bitar. Du har kanske: <em>r√∂d bit (ledarskap)</em>,
                            <em>bl√• bit (kundservice)</em>, <em>gr√∂n bit (Excel)</em>. Ett jobb som
                            "Verksamhetsledare" kr√§ver: r√∂d, bl√•, gr√∂n, och <em>gul bit (v√•rderfarenhet)</em>.
                            <br><br>
                            <strong>NordiqFlow s√§ger:</strong> "Du har 3 av 4 bitar! Du beh√∂ver bara skaffa
                            den gula biten (en kort kurs) s√• √§r du klar."
                        </p>
                    </div>

                    <p>
                        <strong>Det smarta:</strong> Arbetsf√∂rmedlingen har redan r√§knat ut vilka jobb som
                        liknar varandra. De har √∂ver 51,000 s√•dana "genv√§gar" i sin databas. Men de visar
                        dem inte f√∂r dig! NordiqFlow tar den g√∂mda datan och g√∂r den synlig och anv√§ndbar.
                    </p>

                    <div class="simple-analogy">
                        <h4>üìä Varf√∂r procentsatser?</h4>
                        <p style="margin: 0; color: #555;">
                            N√§r vi s√§ger "85% match" menar vi: <em>"Av alla saker det h√§r jobbet kr√§ver,
                            har du redan 85% av dem."</em> Det √§r som ett recept d√§r du redan har de flesta
                            ingredienserna hemma ‚Äì du beh√∂ver bara handla n√•gra f√• saker till.
                        </p>
                    </div>

                    <p style="text-align: center; margin-top: 30px;">
                        <strong style="color: #1e8449; font-size: 1.2em;">
                            Kortfattat: Vi visar dig jobb du aldrig visste att du kunde ta ‚Äì och exakt vad
                            du beh√∂ver l√§ra dig f√∂r att ta dem.
                        </strong>
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- D3.js Interactive Graph Script -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script>
        // Career transition data (simplified example)
        const nodes = [
            { id: "butikschef", label: "Butikschef", group: "current", x: 400, y: 250 },
            { id: "verksamhetsledare", label: "Verksamhetsledare\n(V√•rd)", group: "high", x: 550, y: 150 },
            { id: "projektledare", label: "Projektledare", group: "high", x: 600, y: 300 },
            { id: "hotellchef", label: "Hotellchef", group: "high", x: 250, y: 150 },
            { id: "restaurangchef", label: "Restaurangchef", group: "medium", x: 200, y: 300 },
            { id: "logistikchef", label: "Logistikchef", group: "medium", x: 550, y: 400 },
            { id: "hr_chef", label: "HR-chef", group: "medium", x: 300, y: 400 },
            { id: "forsaljningschef", label: "F√∂rs√§ljningschef", group: "low", x: 700, y: 200 },
            { id: "marknadschef", label: "Marknadschef", group: "low", x: 150, y: 200 },
            { id: "inkopschef", label: "Ink√∂pschef", group: "low", x: 450, y: 100 }
        ];

        const links = [
            { source: "butikschef", target: "verksamhetsledare", strength: 85 },
            { source: "butikschef", target: "projektledare", strength: 82 },
            { source: "butikschef", target: "hotellchef", strength: 79 },
            { source: "butikschef", target: "restaurangchef", strength: 65 },
            { source: "butikschef", target: "logistikchef", strength: 58 },
            { source: "butikschef", target: "hr_chef", strength: 52 },
            { source: "butikschef", target: "forsaljningschef", strength: 45 },
            { source: "butikschef", target: "marknadschef", strength: 38 },
            { source: "butikschef", target: "inkopschef", strength: 48 },
            // Secondary connections
            { source: "verksamhetsledare", target: "projektledare", strength: 70 },
            { source: "hotellchef", target: "restaurangchef", strength: 75 },
            { source: "projektledare", target: "logistikchef", strength: 60 },
            { source: "forsaljningschef", target: "marknadschef", strength: 65 }
        ];

        const container = document.getElementById('career-graph');
        const width = container.clientWidth;
        const height = 500;

        const svg = d3.select("#career-graph")
            .append("svg")
            .attr("width", width)
            .attr("height", height);

        // Color scale
        const colorScale = (group) => {
            const colors = {
                current: "#667eea",
                high: "#27ae60",
                medium: "#f39c12",
                low: "#e74c3c"
            };
            return colors[group] || "#999";
        };

        // Link strength to width
        const linkWidth = (strength) => Math.max(1, strength / 20);

        // Create links
        const link = svg.append("g")
            .selectAll("line")
            .data(links)
            .enter()
            .append("line")
            .attr("stroke", "#999")
            .attr("stroke-opacity", 0.6)
            .attr("stroke-width", d => linkWidth(d.strength));

        // Create node groups
        const node = svg.append("g")
            .selectAll("g")
            .data(nodes)
            .enter()
            .append("g")
            .attr("transform", d => `translate(${d.x}, ${d.y})`)
            .call(d3.drag()
                .on("start", dragstarted)
                .on("drag", dragged)
                .on("end", dragended));

        // Add circles to nodes
        node.append("circle")
            .attr("r", d => d.group === "current" ? 35 : 28)
            .attr("fill", d => colorScale(d.group))
            .attr("stroke", d => d.group === "current" ? "#1a1a2e" : "#fff")
            .attr("stroke-width", d => d.group === "current" ? 4 : 2)
            .style("cursor", "grab");

        // Add labels
        node.append("text")
            .attr("text-anchor", "middle")
            .attr("dy", d => d.group === "current" ? 50 : 45)
            .attr("fill", "#333")
            .attr("font-size", "11px")
            .attr("font-weight", d => d.group === "current" ? "bold" : "normal")
            .text(d => d.label.split('\n')[0]);

        // Add percentage labels for links from butikschef
        const linkLabels = svg.append("g")
            .selectAll("text")
            .data(links.filter(l => l.source === "butikschef"))
            .enter()
            .append("text")
            .attr("font-size", "10px")
            .attr("fill", "#666")
            .text(d => d.strength + "%");

        // Position links and labels
        function updatePositions() {
            link
                .attr("x1", d => nodes.find(n => n.id === d.source).x)
                .attr("y1", d => nodes.find(n => n.id === d.source).y)
                .attr("x2", d => nodes.find(n => n.id === d.target).x)
                .attr("y2", d => nodes.find(n => n.id === d.target).y);

            linkLabels
                .attr("x", d => {
                    const source = nodes.find(n => n.id === d.source);
                    const target = nodes.find(n => n.id === d.target);
                    return (source.x + target.x) / 2;
                })
                .attr("y", d => {
                    const source = nodes.find(n => n.id === d.source);
                    const target = nodes.find(n => n.id === d.target);
                    return (source.y + target.y) / 2 - 5;
                });
        }

        updatePositions();

        // Drag functions
        function dragstarted(event, d) {
            d3.select(this).select("circle").style("cursor", "grabbing");
        }

        function dragged(event, d) {
            d.x = Math.max(40, Math.min(width - 40, event.x));
            d.y = Math.max(40, Math.min(height - 40, event.y));
            d3.select(this).attr("transform", `translate(${d.x}, ${d.y})`);
            updatePositions();
        }

        function dragended(event, d) {
            d3.select(this).select("circle").style("cursor", "grab");
        }

        // Responsive resize
        window.addEventListener('resize', () => {
            const newWidth = container.clientWidth;
            svg.attr("width", newWidth);
        });
    </script>

    <footer>
        <div class="container">
            <p><strong>NordiqFlow</strong> - Sveriges arbetsmarknads-OS</p>
            <p>
                <a href="https://github.com/linneamoritznyc/nordiqflow" target="_blank">GitHub</a> |
                <a href="investors.html">F√∂r Investerare</a>
            </p>
            <p style="margin-top: 15px; opacity: 0.7; font-size: 0.9em;">
                Akademisk bakgrund: ORCID <a href="https://orcid.org/0009-0004-9742-8608" target="_blank">0009-0004-9742-8608</a>
            </p>
        </div>
    </footer>
</body>
</html>
